Установка в докере PostgreSQL:
------------------------------

docker run -d --hostname tgbotmiddle --name tgbotmiddle -p 5433:5432 -e POSTGRES_USER=userok -e POSTGRES_PASSWORD=p@ssw0rd -e POSTGRES_DB=tgbotmiddle -v /data:/var/lib/postgresql/data --restart=unless-stopped postgres:14.5

-d                                 // выполнить в консоли detached после запуска контейнера
--hostname tgbotmiddle             // имя хоста для подключения к контейнеру из вне
--name tgbotmiddle                 // имя контейнера
-p 5433:5432                       // мост для проброса портов внешний порт 5433, внутри контейнера порт Postrge стандартный 5432
-e POSTGRES_USER=userok -e POSTGRES_PASSWORD=p@ssw0rd      // задание переменных окружения внутри контейнера пользователя и пароля для соединения с сервером
-e POSTGRES_DB=tgbotmiddle                                 // название дефолтной базы данных
-v /data:/var/lib/postgresql/data                          // подключение внешнего тома к контейнеру для того, чтобы хранить (не потерять) в нём данные баз данных когда контейнер отключен
                                                           // /data - путь данных внутри контейнера
                                                           // /var/lib/postgresql/data - путь хранения данных на локальной машине
--restart=unless-stopped          // автозапуск контейнера при старте докера
postgres:14.5                     // имя образа в репозитории и через : версия образа


Если нужно, то для IDE можно скачать драйвер JBDC
-------------------------------------------------
https://jdbc.postgresql.org/download/
видеоинструкция:
https://www.youtube.com/watch?v=-MDPYDi01dM


Можно скачать через maven:
--------------------------
<dependency>
    <groupId>org.postgresql</groupId>
    <artifactId>postgresql</artifactId>
    <version>42.7.0</version>
</dependency>

Скачать PgAdmin:
----------------
https://www.pgadmin.org/download/




Установка PostgreSQL без докера под Linux:
------------------------------------------
sudo apt update
sudo apt upgrade
sudo apt install postgresql postgresql-contrib

проверить активность сервиса
service postgresql status

зайти внутрь
sudo -i -u postgres
psql

посмотреть инструкцию к man psql

сменить пароль для пользователя postgres:
ALTER USER postgres WITH PASSWORD 'mypassword';

включить наследование от родительских ролей
ALTER USER postgres LOGIN INHERIT;

создать пользователя myusername c паролем mypassword:
CREATE USER myusername WITH PASSWORD 'mypassword';

назначить пользователю права суперюзера:
ALTER USER myusername WITH SUPERUSER;

удалить пользователя:
DROP USER myusername;

\q - выход из консоли
\l - список баз данных
\du - вывести список пользователей

exit - выйти из сервиса postgres
psql - войти в postgres

------------------------------
Установка PGMyAdmin под Linux:
------------------------------
curl -fsS https://www.pgadmin.org/static/packages_pgadmin_org.pub | sudo gpg --dearmor -o /usr/share/keyrings/packages-pgadmin-org.gpg

sudo sh -c 'echo "deb [signed-by=/usr/share/keyrings/packages-pgadmin-org.gpg] https://ftp.postgresql.org/pub/pgadmin/pgadmin4/apt/$(lsb_release -cs) pgadmin4 main" > /etc/apt/sources.list.d/pgadmin4.list && apt update'

sudo apt install pgadmin4
